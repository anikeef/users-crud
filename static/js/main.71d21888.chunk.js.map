{"version":3,"sources":["components/User/User.module.scss","components/UserForm/UserForm.module.scss","components/UsersList/UsersList.module.scss","components/Search/Search.module.scss","components/UsersSidebar/UsersSidebar.module.scss","components/Users/Users.module.scss","models/User.js","services/LocalStorage.js","configurations/config.js","configurations/storages.js","services/MemoryStorage.js","services/UsersStorage.js","components/UserForm/UserForm.jsx","components/Search/Search.jsx","components/UsersSidebar/UsersSidebar.jsx","components/User/User.jsx","components/UsersList/UsersList.jsx","components/Users/Users.jsx","App.jsx","index.js"],"names":["module","exports","User","data","id","this","name","config","usersStorage","memory","items","item","push","filter","itemIndex","findIndex","property","query","toLowerCase","includes","localStorage","getItem","setItem","_items","_updateItems","newItems","JSON","parse","stringify","UsersStorage","storage","Promise","resolve","getAll","create","Date","now","delete","patch","search","UserForm","props","handleNameChange","event","setState","target","value","handleSubmit","preventDefault","state","onSubmit","user","action","className","s","userForm","userForm__inputGroup","userForm__input","type","onChange","placeholder","userForm__submit","React","Component","Search","label","search__input","UsersSidebar","createUser","onSearch","usersSidebar","isEditing","onDelete","onPatch","user__info","user__id","user__name","user__actions","user__action","onClick","UsersList","users","map","key","usersList","usersList__title","usersList__items","Users","then","update","deleteUser","patchUser","usersPage","newUserName","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.71d21888.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__T_dXn\",\"user__info\":\"User_user__info__2xlfC\",\"user__actions\":\"User_user__actions__3zG4-\",\"user__action\":\"User_user__action__ujxz8\",\"user__id\":\"User_user__id__T_7B-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userForm\":\"UserForm_userForm__3V-n9\",\"userForm__inputGroup\":\"UserForm_userForm__inputGroup__2K29r\",\"userForm__input\":\"UserForm_userForm__input__2Egqe\",\"userForm__submit\":\"UserForm_userForm__submit__5T1Zz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersList\":\"UsersList_usersList__2FCmk\",\"usersList__title\":\"UsersList_usersList__title__2r9aO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search__input\":\"Search_search__input__1OIzi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersSidebar\":\"UsersSidebar_usersSidebar__1iw5H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"Users_usersPage__gnQmr\"};","export class User {\n  constructor(data, id) {\n    this.name = data.name || '';\n    this.id = id;\n  }\n}","export class LocalStorage {\n  constructor() {\n    localStorage.getItem('items') || localStorage.setItem('items', '[]');\n  }\n\n  create(item) {\n    const items = this._items();\n    items.push(item);\n    this._updateItems(items);\n  }\n\n  getAll() {\n    return this._items();\n  }\n\n  delete(id) {\n    const items = this._items();\n    const newItems = items.filter((item) => item.id !== id);\n    this._updateItems(newItems);\n  }\n\n  patch(id, data) {\n    const items = this._items();\n    const itemIndex = items.findIndex((item) => item.id === id);\n    items[itemIndex] = { ...items[itemIndex], ...data };\n    this._updateItems(items);\n  }\n\n  search(property, query) {\n    const items = JSON.parse(localStorage.getItem('items'));\n    return items.filter((item) => {\n      return item[property].toLowerCase().includes(query.toLowerCase());\n    })\n  }\n\n  _items() {\n    return JSON.parse(localStorage.getItem('items'));\n  }\n\n  _updateItems(items) {\n    localStorage.setItem('items', JSON.stringify(items));\n  }\n}","import { storages } from \"./storages\";\n\nexport const config = {\n  usersStorage: storages.localStorage\n}","import { MemoryStorage } from \"../services/MemoryStorage\";\nimport { LocalStorage } from \"../services/LocalStorage\";\n\nexport const storages = {\n  memory: MemoryStorage,\n  localStorage: LocalStorage\n}","export class MemoryStorage {\n  constructor() {\n    this.items = [];\n  }\n\n  create(item) {\n    this.items.push(item);\n  }\n\n  getAll() {\n    return this.items;\n  }\n\n  delete(id) {\n    this.items = this.items.filter((item) => item.id !== id);\n  }\n\n  patch(id, data) {\n    const itemIndex = this.items.findIndex((item) => item.id === id);\n    this.items[itemIndex] = { ...this.items[itemIndex], ...data };\n  }\n\n  search(property, query) {\n    return this.items.filter((item) => {\n      return item[property].toLowerCase().includes(query.toLowerCase());\n    })\n  }\n}","import { User } from '../models/User';\nimport { config } from '../configurations/config';\n\nconst getUniqueId = () => Date.now();\n\n// Promises are used here to provide easy switching between sync and async storage types\n\nexport class UsersStorage {\n  constructor() {\n    this.storage = new config.usersStorage;\n  }\n\n  getAll() {\n    return Promise.resolve(this.storage.getAll());\n  }\n\n  create(data) {\n    return Promise.resolve(this.storage.create(new User(data, getUniqueId())));\n  }\n\n  delete(id) {\n    return Promise.resolve(this.storage.delete(id));\n  }\n\n  patch(id, data) {\n    return Promise.resolve(this.storage.patch(id, data));\n  }\n\n  search(query) {\n    return Promise.resolve(this.storage.search('name', query));\n  }\n}","import React from 'react';\nimport s from './UserForm.module.scss';\n\nexport class UserForm extends React.Component {\n  handleNameChange = (event) => {\n    this.setState({ name: event.target.value })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (!this.state.name) return;\n    this.props.onSubmit({\n      name: this.state.name\n    });\n    this.setState({\n      name: ''\n    });\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: props.user ? props.user.name : ''\n    }\n  }\n\n  render() {\n    const { action } = this.props;\n    return (\n      <form className={ s.userForm } onSubmit={ this.handleSubmit } >\n        <label className='label'>{ action } user</label>\n        <div className={ s.userForm__inputGroup }>\n          <input \n            className={ s.userForm__input } \n            type='text' \n            onChange={ this.handleNameChange } \n            value={ this.state.name } \n            placeholder='Name' />\n          <input className={ s.userForm__submit } type='submit' value={action} />\n        </div>\n      </form>\n    );\n  }\n}","import React from 'react';\nimport s from './Search.module.scss';\n\nexport const Search = ({ label, onChange }) => {\n  return (\n    <div className={ s.search }>\n      <label className='label'>{ label }</label>\n      <input className={ s.search__input } placeholder='Search' onChange={ onChange } />\n    </div>\n  );\n}","import React from 'react';\nimport { UserForm } from '../UserForm/UserForm.jsx';\nimport s from './UsersSidebar.module.scss';\nimport { Search } from '../Search/Search.jsx';\n\nexport const UsersSidebar = ({ createUser, onSearch }) => {\n  return (\n    <div className={ s.usersSidebar }>\n      <Search label='Search users' onChange={ onSearch } />\n      <UserForm onSubmit={ createUser } action='Create' />\n    </div>\n  );\n}\n","import React from 'react';\nimport { UserForm } from '../UserForm/UserForm.jsx';\nimport s from './User.module.scss';\n\nexport class User extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEditing: false\n    }\n  }\n\n  render() {\n    const { user, onDelete, onPatch } = this.props;\n    return (\n      <div className={ s.user }>\n        <div className={ s.user__info }>\n          <div className={ s.user__id }>\n            { user.id }\n          </div>\n          <div className={ s.user__name }>\n            { user.name }\n          </div>\n          <div className={ s.user__actions }>\n            <button className={ s.user__action } onClick={ () => onDelete(user.id) }>Delete</button>\n            <button className={ s.user__action } onClick={ () => this.setState({ isEditing: !this.state.isEditing })}>Edit</button>\n          </div>\n        </div>\n        \n        { \n          this.state.isEditing &&\n          <UserForm user={ user } action='Edit' onSubmit={ (data) => onPatch(user.id, data) } />\n        }\n      </div>\n    );\n  }\n}","import React from 'react';\nimport { User } from '../User/User.jsx';\nimport s from './UsersList.module.scss';\n\nexport const UsersList = ({ users, onDelete, onPatch }) => {\n  const items = users.map((user) => {\n    return (\n      <User user={user} onDelete={ onDelete } onPatch={ onPatch } key={ user.id } />\n    );\n  })\n  return (\n    <div className={ s.usersList }>\n      <h1 className={ s.usersList__title }>Users</h1>\n      <div className={ s.usersList__items }>\n        { items }\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { UsersStorage } from '../../services/UsersStorage.js';\nimport { UsersSidebar } from '../UsersSidebar/UsersSidebar.jsx';\nimport s from './Users.module.scss';\nimport { UsersList } from '../UsersList/UsersList.jsx';\n\nexport class Users extends React.Component {\n  createUser = (data) => {\n    this.usersStorage.create(data)\n      .then(() => this.update());\n  }\n\n  deleteUser = (id) => {\n    this.usersStorage.delete(id)\n      .then(() => this.update());\n  }\n\n  patchUser = (id, data) => {\n    this.usersStorage.patch(id, data)\n      .then(() => this.update());\n  }\n\n  search = (event) => {\n    this.usersStorage.search(event.target.value)\n      .then((users) => this.setState({ users }));\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: []\n    };\n    this.usersStorage = new UsersStorage();\n  }\n\n  componentWillMount() {\n    this.update();\n  }\n\n  render() {\n    return (\n      <div className={ s.usersPage }>\n        <UsersSidebar createUser={ this.createUser } onSearch={ this.search } />\n        <UsersList users={ this.state.users } onDelete={ this.deleteUser } onPatch={ this.patchUser } />\n      </div>\n    );\n  }\n\n  update() {\n    this.usersStorage.getAll()\n      .then((users) => this.setState({ users, newUserName: '' }));\n  }\n}","import React from 'react';\nimport { Users } from './components/Users/Users.jsx';\n\nfunction App() {\n  return (\n    <Users />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/global.scss';\nimport App from './App.jsx';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}