(this.webpackJsonpiqtek=this.webpackJsonpiqtek||[]).push([[0],[,,,function(e,t,r){e.exports={user:"User_user__T_dXn",user__info:"User_user__info__2xlfC",user__actions:"User_user__actions__3zG4-",user__action:"User_user__action__ujxz8",user__id:"User_user__id__T_7B-"}},,,,function(e,t,r){e.exports={userForm:"UserForm_userForm__3V-n9",userForm__inputGroup:"UserForm_userForm__inputGroup__2K29r",userForm__input:"UserForm_userForm__input__2Egqe",userForm__submit:"UserForm_userForm__submit__5T1Zz"}},,function(e,t,r){e.exports={usersList:"UsersList_usersList__2FCmk",usersList__title:"UsersList_usersList__title__2r9aO"}},function(e,t,r){e.exports={search__input:"Search_search__input__1OIzi"}},,,function(e,t,r){e.exports={usersSidebar:"UsersSidebar_usersSidebar__1iw5H"}},function(e,t,r){e.exports={usersPage:"Users_usersPage__gnQmr"}},function(e,t,r){e.exports=r(21)},,,,,function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(12),i=r.n(s),u=(r(20),r(1)),c=r(2),o=r(5),l=r(4),m=r(6),h=function e(t,r){Object(u.a)(this,e),this.name=t.name||"",this.id=r},_=r(8);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var d={usersStorage:{memory:function(){function e(){Object(u.a)(this,e),this.items=[]}return Object(c.a)(e,[{key:"create",value:function(e){this.items.push(e)}},{key:"getAll",value:function(){return this.items}},{key:"delete",value:function(e){this.items=this.items.filter((function(t){return t.id!==e}))}},{key:"patch",value:function(e,t){var r=this.items.findIndex((function(t){return t.id===e}));this.items[r]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(r,!0).forEach((function(t){Object(_.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.items[r],{},t)}},{key:"search",value:function(e,t){return this.items.filter((function(r){return r[e].toLowerCase().includes(t.toLowerCase())}))}}]),e}(),localStorage:function(){function e(){Object(u.a)(this,e),localStorage.getItem("items")||localStorage.setItem("items","[]")}return Object(c.a)(e,[{key:"create",value:function(e){var t=this._items();t.push(e),this._updateItems(t)}},{key:"getAll",value:function(){return this._items()}},{key:"delete",value:function(e){var t=this._items().filter((function(t){return t.id!==e}));this._updateItems(t)}},{key:"patch",value:function(e,t){var r=this._items(),n=r.findIndex((function(t){return t.id===e}));r[n]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach((function(t){Object(_.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r[n],{},t),this._updateItems(r)}},{key:"search",value:function(e,t){return JSON.parse(localStorage.getItem("items")).filter((function(r){return r[e].toLowerCase().includes(t.toLowerCase())}))}},{key:"_items",value:function(){return JSON.parse(localStorage.getItem("items"))}},{key:"_updateItems",value:function(e){localStorage.setItem("items",JSON.stringify(e))}}]),e}()}.localStorage},b=function(){function e(){Object(u.a)(this,e),this.storage=new d.usersStorage}return Object(c.a)(e,[{key:"getAll",value:function(){return Promise.resolve(this.storage.getAll())}},{key:"create",value:function(e){return Promise.resolve(this.storage.create(new h(e,Date.now())))}},{key:"delete",value:function(e){return Promise.resolve(this.storage.delete(e))}},{key:"patch",value:function(e,t){return Promise.resolve(this.storage.patch(e,t))}},{key:"search",value:function(e){return Promise.resolve(this.storage.search("name",e))}}]),e}(),v=r(7),g=r.n(v),O=function(e){function t(e){var r;return Object(u.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).handleNameChange=function(e){r.setState({name:e.target.value})},r.handleSubmit=function(e){e.preventDefault(),r.state.name&&(r.props.onSubmit({name:r.state.name}),r.setState({name:""}))},r.state={name:e.user?e.user.name:""},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.action;return a.a.createElement("form",{className:g.a.userForm,onSubmit:this.handleSubmit},a.a.createElement("label",{className:"label"},e," user"),a.a.createElement("div",{className:g.a.userForm__inputGroup},a.a.createElement("input",{className:g.a.userForm__input,type:"text",onChange:this.handleNameChange,value:this.state.name,placeholder:"Name"}),a.a.createElement("input",{className:g.a.userForm__submit,type:"submit",value:e})))}}]),t}(a.a.Component),y=r(13),S=r.n(y),j=r(10),E=r.n(j),k=function(e){var t=e.label,r=e.onChange,n=e.value;return a.a.createElement("div",{className:E.a.search},a.a.createElement("label",{className:"label"},t),a.a.createElement("input",{className:E.a.search__input,placeholder:"Search",onChange:r,value:n}))},P=function(e){var t=e.createUser,r=e.onSearch,n=e.searchValue;return a.a.createElement("div",{className:S.a.usersSidebar},a.a.createElement(k,{label:"Search users",onChange:r,value:n}),a.a.createElement(O,{onSubmit:t,action:"Create"}))},N=r(14),w=r.n(N),U=r(3),C=r.n(U),F=function(e){function t(e){var r;return Object(u.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={isEditing:!1},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.user,n=t.onDelete,s=t.onPatch;return a.a.createElement("div",{className:C.a.user},a.a.createElement("div",{className:C.a.user__info},a.a.createElement("div",{className:C.a.user__id},r.id),a.a.createElement("div",{className:C.a.user__name},r.name),a.a.createElement("div",{className:C.a.user__actions},a.a.createElement("button",{className:C.a.user__action,onClick:function(){return n(r.id)}},"Delete"),a.a.createElement("button",{className:C.a.user__action,onClick:function(){return e.setState({isEditing:!e.state.isEditing})}},"Edit"))),this.state.isEditing&&a.a.createElement(O,{user:r,action:"Edit",onSubmit:function(e){return s(r.id,e)}}))}}]),t}(a.a.Component),D=r(9),I=r.n(D),L=function(e){var t=e.users,r=e.onDelete,n=e.onPatch,s=t.map((function(e){return a.a.createElement(F,{user:e,onDelete:r,onPatch:n,key:e.id})}));return a.a.createElement("div",{className:I.a.usersList},a.a.createElement("h1",{className:I.a.usersList__title},"Users"),a.a.createElement("div",{className:I.a.usersList__items},s))},x=function(e){function t(e){var r;return Object(u.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).createUser=function(e){r.usersStorage.create(e).then((function(){return r.update()}))},r.deleteUser=function(e){r.usersStorage.delete(e).then((function(){return r.update()}))},r.patchUser=function(e,t){r.usersStorage.patch(e,t).then((function(){return r.update()}))},r.handleSearch=function(e){r.setState({searchQuery:e.target.value}),r.usersStorage.search(e.target.value).then((function(e){return r.setState({users:e})}))},r.state={users:[],searchQuery:""},r.usersStorage=new b,r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.update()}},{key:"render",value:function(){return a.a.createElement("div",{className:w.a.usersPage},a.a.createElement(P,{createUser:this.createUser,onSearch:this.handleSearch,searchValue:this.state.searchQuery}),a.a.createElement(L,{users:this.state.users,onDelete:this.deleteUser,onPatch:this.patchUser}))}},{key:"update",value:function(){var e=this;this.usersStorage.search(this.state.searchQuery).then((function(t){return e.setState({users:t})}))}}]),t}(a.a.Component);var J=function(){return a.a.createElement(x,null)};i.a.render(a.a.createElement(J,null),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.77eeecd6.chunk.js.map